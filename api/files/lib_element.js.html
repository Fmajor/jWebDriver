<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>lib\element.js - jWebDriver API</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="https:&#x2F;&#x2F;raw.github.com&#x2F;yaniswang&#x2F;jWebDriver&#x2F;master&#x2F;logo_s.png" title="jWebDriver API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.9.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Browser.html">Browser</a></li>
            
                <li><a href="..&#x2F;classes/Element.html">Element</a></li>
            
                <li><a href="..&#x2F;classes/JWebDriver.html">JWebDriver</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: lib\element.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
* This class is used for control element.
* &lt;p&gt;
* 此类用来和页面对象进行交互。
* &lt;&#x2F;p&gt;
* @class Element
*&#x2F;

var Element = function(){
	var self = this;
	return self._init.apply(self, arguments);
}

Element.prototype = {

	&#x2F;**
	 * 初始化Element对象
	 * @method _init
	 * @private
	 * @param  {Browser} browser Element所在的Browser对象实例
	 * @param  {String} [using]   对象选择类型，留空默认为：css selector(class name|css selector|id|name|link text|partial link text|tag name|xpath)
	 * @param  {String} [value]   对象选择值，留空返回当前焦点所在对象
	 *&#x2F;
	_init: function(browser, using, value){
		var self = this;
		self.browser = browser;
		if(value === undefined){
			&#x2F;&#x2F;默认css选择器
			value = using;
			using = &#x27;css selector&#x27;;
		}
		if(value === undefined){
			self._id = browser.doCommand(&#x27;getActiveElement&#x27;).ELEMENT;
		}
		else if(using === &#x27;element&#x27;){
			self._id = value;
		}
		else{
			var regCheck = &#x2F;^(class name|css selector|id|name|link text|partial link text|tag name|xpath)$&#x2F;i;
			if (regCheck.test(using) === false)
			{
				throw &#x27;Please provide any of the following using strings as the first parameter: class name, css selector, id, name, link text, partial link text, tag name or xpath&#x27;;
			}
			self._id = browser.doCommand(&#x27;getElement&#x27;, {&#x27;using&#x27;: using,&#x27;value&#x27;: value}).ELEMENT;
		}
	},

	&#x2F;**
	 * 在对应对象上执行Element命令
	 * @method _doElementCommand
	 * @private
	 * @param  {String} cmd  命令
	 * @param  {Object} data 命令需要的数据
	 * @return {Object}      命令执行结果
	 *&#x2F;
	_doElementCommand: function(cmd, data){
		var self = this;
		data = data || {};
		data[&#x27;pathValues&#x27;] = data[&#x27;pathValues&#x27;] || {};
		data.pathValues.id = self._id;
		return self.browser.doCommand(cmd, data);
	},

	&#x2F;**
	 * 返回官方JSON格式的Element对象
	 * @method toJson
	 * @public
	 * @return {Object} 官方Element对象{ELEMENT}
	 *&#x2F;
	toJson: function(){
		return {ELEMENT: this._id};
	},

	&#x2F;**
	 * 查找对象下的对象
	 * @method find
	 * @public
	 * @param  {String} [using] 对象选择类型，留空默认为：css selector(class name|css selector|id|name|link text|partial link text|tag name|xpath)
	 * @param  {String} value 对象选择值
	 * @return {Element}       Element的实例对象
	 *&#x2F;
	find: function(using, value){
		var self = this;
		if(value === undefined){
			&#x2F;&#x2F;默认css选择器
			value = using;
			using = &#x27;css selector&#x27;;
		}
		var response = self._doElementCommand(&#x27;findElement&#x27;, {&#x27;using&#x27;: using,&#x27;value&#x27;: value}),
			id = response.ELEMENT;
		if(id){
			return new Element(self.browser, &#x27;element&#x27;, id);
		}
		else{
			return false;
		}
	},

	&#x2F;**
	 * 返回DOM属性值
	 * @method attr
	 * @public
	 * @param  {String} name 属性名称
	 * @return {String}      属性值
	 *&#x2F;
	attr: function(name){
		return this._doElementCommand(&#x27;getAttr&#x27;, {&#x27;pathValues&#x27;: {&#x27;name&#x27;: name}});
	},

	&#x2F;**
	 * 返回DOM的CSS属性值
	 * @method css
	 * @public
	 * @param  {String} name CSS名称
	 * @return {String}      CSS值
	 *&#x2F;
	css: function(name){
		return this._doElementCommand(&#x27;getCss&#x27;, {&#x27;pathValues&#x27;: {&#x27;propertyName&#x27;: name}});
	},

	&#x2F;**
	 * 返回或设置value值
	 * @method val
	 * @public
	 * @param  {String} [str] value值，此值省略时为取value值
	 * @return {String|Element}     返回value值或者当前Element实例
	 *&#x2F;
	val: function(str){
		var self = this;
		if(str){
			self.clear().sendKeys(str);
			return self;
		}
		else{
			return self._doElementCommand(&#x27;getValue&#x27;);
		}
	},

	&#x2F;**
	 * 清空value值
	 * @method clear
	 * @public
	 * @return {Element} 返回当前Element实例
	 *&#x2F;
	clear: function(){
		var self = this;
		self._doElementCommand(&#x27;setClear&#x27;);
		return self;
	},

	&#x2F;**
	 * 返回当前对象可视文本
	 * @method text
	 * @public
	 * @return {String} 返回的可视文本
	 *&#x2F;
	text: function(){
		return this._doElementCommand(&#x27;getText&#x27;);
	},

	&#x2F;**
	 * 当前对象是否可视
	 * @method visible
	 * @public
	 * @return {Boolean} 当前对象的可视状态
	 *&#x2F;
	visible: function(){
		return this._doElementCommand(&#x27;getDisplayed&#x27;);
	},

	&#x2F;**
	 * 当前对象的坐标
	 * @method offset
	 * @public
	 * @param  {Boolean} bInView 是否相对坐标
	 * @return {Object}         返回{x,y}格式的对象
	 *&#x2F;
	offset: function(bInView){
		return this._doElementCommand(bInView?&#x27;getLocationInView&#x27;:&#x27;getLocation&#x27;);
	},

	&#x2F;**
	 * 当前对象的大小
	 * @method size
	 * @public
	 * @return {Object} 返回{width,height}格式的对象
	 *&#x2F;
	size: function(){
		return this._doElementCommand(&#x27;getSize&#x27;);
	},

	&#x2F;**
	 * 当前对象是否可用状态
	 * @method enabled
	 * @public
	 * @return {Boolean} 当前对象的可用状态
	 *&#x2F;
	enabled: function(){
		return this._doElementCommand(&#x27;getEnabled&#x27;);
	},

	&#x2F;**
	 * 当前对象是否处于被选择状态
	 * 适用于以下对象：option,checkbox,radio
	 * @method selected
	 * @public
	 * @return {Boolean} 当前对象是否被选择
	 *&#x2F;
	selected: function(){
		return this._doElementCommand(&#x27;getSelected&#x27;);
	},

	&#x2F;**
	 * 提前对象所在的表单
	 * @method submit
	 * @public
	 * @return {Element} 返回当前Element实例
	 *&#x2F;
	submit: function(){
		var self = this;
		self._doElementCommand(&#x27;setSubmit&#x27;);
		return self;
	},

	&#x2F;**
	 * 单击当前对象
	 * @method click
	 * @public
	 * @return {Element} 返回当前Element实例
	 *&#x2F;
	click: function(){
		var self = this;
		self._doElementCommand(&#x27;setClick&#x27;);
		return self;
	},

	&#x2F;**
	 * 发送键盘按键序列到当前对象上
	 * @method sendKeys
	 * @public
	 * @param  {String} str 键盘按钮序列
	 * @return {Element}     返回当前Element实例
	 *&#x2F;
	sendKeys: function(str){
		var self = this;
		self._doElementCommand(&#x27;setValue&#x27;, {&#x27;value&#x27;: self.browser._getKeyArray(str)});
		return self;
	},

	&#x2F;**
	 * 比较两个Element是否指向同一个DOM对象
	 * @method equals
	 * @public
	 * @param  {Element} $element 需要比较的Element对象实例
	 * @return {Boolean}          是否指向同一个DOM对象
	 *&#x2F;
	equals: function($element){
		return this._doElementCommand(&#x27;getElementEquals&#x27;, {&#x27;pathValues&#x27;: {&#x27;other&#x27;: $element._id}});
	}
}

module.exports = Element;
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
